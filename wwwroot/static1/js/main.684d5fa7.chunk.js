(this.webpackJsonph2=this.webpackJsonph2||[]).push([[0],{120:function(e,t,a){e.exports=a(133)},125:function(e,t,a){},127:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(9),l=a.n(i),o=(a(125),a(20)),c=a.n(o),u=a(26),s=a(12),m=a(63),d=(a(127),a(79)),f=a(80),p=a(169),E=a(172),g=a(173),h=a(105),b=a(177),v=a(176),w=a(33),R=a.n(w),F=a(196),x=function(){function e(){Object(d.a)(this,e),this.items=[],this.text=""}return Object(f.a)(e,[{key:"updateTab",value:function(){this.items.push("oh")}}]),e}(),k=new x;k.items=["aa","bb","dd"],k.text="Hello";var S=new x;S.items=["uu","zz","xx"],S.text="\u043f\u0440\u0438\u0432\u0435\u0442";var y=Object(p.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},offset:e.mixins.toolbar,title:{flexGrow:1},fixheight:{height:"100vh",overflow:"auto"}}}));function C(e){var t=e.visible,a=y();return r.a.createElement("div",{hidden:!t},r.a.createElement("div",{className:a.root},r.a.createElement(E.a,{position:"fixed"},r.a.createElement(g.a,null,r.a.createElement(F.a,{title:"\u041c\u0435\u043d\u044e"},r.a.createElement(v.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu",onClick:function(){$e.showMenu()}},r.a.createElement(R.a,null))),r.a.createElement(h.a,{variant:"h6",className:a.title},"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u0440\u0435\u0439\u0441\u0430"))),r.a.createElement("div",{className:a.offset})))}var j=a(197),O=a(178),T=a(182),P=a(181),N=a(179),M=a(180),L=Object(p.a)({root:{},container:{height:"100vh",overflow:"auto"}});function D(e){L();var t=e.id,a=e.editid,i=function(){return null==a?tt.get(t).data:tt.get(t).data.ReferEdit.Editors[a].joinRow.FindConrol},l=null!=i().curRow?i().curRow:0,o=Object(n.useState)(l),c=Object(s.a)(o,2),u=c[0],m=c[1];return r.a.createElement(O.a,{size:"small"},r.a.createElement(N.a,null,r.a.createElement(M.a,null,e.columns.map((function(e){return r.a.createElement(P.a,{key:e.FieldName,align:e.DisplayFormat.indexOf("#")>-1?"right":"left",style:{fontSize:14,maxWidth:300}},e.FieldCaption)})))),r.a.createElement(T.a,null,e.rows.map((function(t,a){return r.a.createElement(M.a,{hover:!0,selected:a==u,onClick:function(t){return function(t,a){i().curRow=a,null!=tt.get(e.id).data.setCurrent&&tt.get(e.id).data.setCurrent(a),m(a)}(0,a)}},e.columns.map((function(e){var a=t[e.FieldName];return r.a.createElement(P.a,{key:e.FieldName,align:e.DisplayFormat.indexOf("#")>-1?"right":"left",style:{fontSize:14,maxWidth:300}},""==e.DisplayFormat?a:He(a,e.DisplayFormat))})))}))))}var W=a(195),B=a(194);function _(e){var t=Object(n.useState)(0),a=Object(s.a)(t,2),i=a[0],l=a[1];return r.a.createElement(O.a,{size:"small"},r.a.createElement(T.a,null,e.columns.map((function(t,a){return r.a.createElement(M.a,{key:t.FieldName},r.a.createElement(P.a,null,r.a.createElement(W.a,{label:t.FieldCaption,style:{width:"50vw"},value:t.FindString,onChange:function(t){return function(t,a){e.columns[a].FindString=t.target.value,l(i+1)}(t,a)}})),r.a.createElement(P.a,{style:{widht:30}},t.SortOrder),r.a.createElement(P.a,null,r.a.createElement(B.a,{native:!0,style:{width:200},value:t.Sort,onChange:function(t){return function(t,a){var n=0;e.columns.map((function(e,t){t!=a&&e.SortOrder&&e.SortOrder>n&&(n=e.SortOrder)})),e.columns[a].SortOrder=n+1,e.columns[a].Sort=t.target.value,l(i+1)}(t,a)}},r.a.createElement("option",null,"\u041d\u0435\u0442"),r.a.createElement("option",null,"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e"),r.a.createElement("option",null,"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e"))))}))))}var Q=a(199),K=a(84),J=a.n(K),G=a(45),A=a.n(G),z=a(83),U=a.n(z),I=Object(p.a)((function(e){return{root:{flexGrow:1,marginLeft:e.spacing(2.5)},menuButton:{marginRight:e.spacing(2)},offset:e.mixins.toolbar,title:{flexGrow:1},fixheight:{height:"100vh",overflow:"auto"}}}));var H=function(e){var t=I(),a=Object(n.useState)("edit"),i=Object(s.a)(a,2),l=i[0],o=i[1],c=Object(n.useState)(0),u=Object(s.a)(c,2),m=u[0],d=u[1],f=e.id,p=e.mode;function b(e,t){tt.get(f).data.WorkRow[t]=e.target.value,d(m+1)}var w=function(e,t){if(null!=e.joinRow){if("Bureau.GridCombo"==e.joinRow.classname)return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{htmlFor:f+"_"+t.toString()+"_"+e.FieldName+"_field"},e.FieldCaption),r.a.createElement(B.a,{native:!0,style:{width:"93vw"},inputProps:{name:f+"_"+t.toString()+"_"+e.FieldName+"_field",id:f+"_"+t.toString()+"_"+e.FieldName+"_field"},value:tt.get(f).data.WorkRow[e.joinRow.valField],onChange:function(t){return function(e,t){t.joinRow.FindConrol.MainTab.map((function(a){if(a[t.joinRow.keyField]==e.target.value){for(var n in t.joinRow.fields)tt.get(f).data.WorkRow[t.joinRow.fields[n]]=a[n];d(m+1)}}))}(t,e)}},e.joinRow.FindConrol.MainTab.map((function(t){return r.a.createElement("option",{value:t[e.joinRow.keyField]},t[e.joinRow.FindConrol.DispField])}))));if("Bureau.Finder"==e.joinRow.classname)return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{label:e.FieldCaption,key:e.FieldName,value:tt.get(f).data.WorkRow[e.FieldName],style:{width:"90vw"},onChange:function(t){return b(t,e.FieldName)}}),r.a.createElement(v.a,{onClick:function(){o("finder_"+t.toString())}},r.a.createElement(U.a,null)))}return r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a,{label:e.FieldCaption,key:e.FieldName,value:tt.get(f).data.WorkRow[e.FieldName],style:{width:"93vw"},onChange:function(t){return b(t,e.FieldName)}}))},x=function(e){var t=tt.get(f).data.ReferEdit.Editors[e],a=tt.get(f).data.ReferEdit.Editors[e].joinRow.FindConrol.curRow,n=t.joinRow.FindConrol.MainTab[a];for(var r in t.joinRow.fields)tt.get(f).data.WorkRow[t.joinRow.fields[r]]=n[r];o("edit")},k=function(){o("edit")};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{hidden:"edit"!=l,className:t.fixheight},r.a.createElement(E.a,{position:"fixed"},r.a.createElement(g.a,null,"setting"!=p?r.a.createElement(F.a,{title:"\u041c\u0435\u043d\u044e"},r.a.createElement(v.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:function(){$e.showMenu()}},r.a.createElement(R.a,null))):"",r.a.createElement(h.a,{variant:"h6",className:t.title},e.descr),r.a.createElement(v.a,{onClick:function(){e.save()}},r.a.createElement(J.a,null)),r.a.createElement(v.a,{onClick:function(){e.closeEditor()}},r.a.createElement(A.a,null)))),r.a.createElement("div",{className:t.offset}),r.a.createElement(O.a,{size:"small"},r.a.createElement(T.a,null,tt.get(f).data.ReferEdit.Editors.map((function(e,t){return r.a.createElement(M.a,null,r.a.createElement(P.a,null,w(e,t)))}))))),tt.get(f).data.ReferEdit.Editors.map((function(e,t){if(null!=e.joinRow&&"Bureau.Finder"==e.joinRow.classname)return r.a.createElement(xe,{visible:l=="finder_"+t.toString(),params:e.joinRow.IdDeclare,id:f,key:f.toString()+t.toString(),editid:t,selectFinder:x,clearFinder:k})})))},V=a(85),$=a.n(V),q=a(86),X=a.n(q),Y=a(87),Z=a.n(Y),ee=a(88),te=a.n(ee),ae=Object(p.a)((function(e){return{root:{flexGrow:1,marginLeft:e.spacing(2.5)},menuButton:{marginRight:e.spacing(2)},offset:e.mixins.toolbar,title:{flexGrow:1},fixheight:{height:"100vh",overflow:"auto"}}}));var ne=function(e){var t=ae(),a=e.id,n=e.editid,i=function(){return null==n?tt.get(a).data:tt.get(a).data.ReferEdit.Editors[n].joinRow.FindConrol};function l(){return i().TotalTab?i().TotalTab[0].n_total:0}function o(){return i().page?i().page-1:0}return r.a.createElement(g.a,null,r.a.createElement(h.a,{className:t.title},30*o()+1," - ",Math.min(30*(o()+1),l())," \u0438\u0437 ",l()),r.a.createElement(v.a,{onClick:function(t){e.onChangePage(t,0)},disabled:0===o(),"aria-label":"first page"},r.a.createElement($.a,null)),r.a.createElement(v.a,{onClick:function(t){e.onChangePage(t,o()-1)},disabled:0===o,"aria-label":"previous page"},r.a.createElement(X.a,null)),o()+1," \u0438\u0437 ",Math.max(0,Math.ceil(l()/30)-1)+1,r.a.createElement(v.a,{onClick:function(t){e.onChangePage(t,o()+1)},disabled:o()>=Math.ceil(l()/30)-1,"aria-label":"next page"},r.a.createElement(Z.a,null)),r.a.createElement(v.a,{onClick:function(t){e.onChangePage(t,Math.max(0,Math.ceil(l()/30)-1))},disabled:o()>=Math.ceil(l()/30)-1,"aria-label":"last page"},r.a.createElement(te.a,null)))},re=a(95),ie=a.n(re),le=a(96),oe=a.n(le),ce=a(62),ue=a.n(ce),se=a(93),me=a.n(se),de=a(92),fe=a.n(de),pe=a(94),Ee=a.n(pe),ge=a(89),he=a.n(ge),be=a(90),ve=a.n(be),we=a(91),Re=a.n(we),Fe=Object(p.a)((function(e){return{root:{flexGrow:1,marginLeft:e.spacing(2.5)},menuButton:{marginRight:e.spacing(2)},offset:e.mixins.toolbar,title:{flexGrow:1},fixheight:{height:"100vh",overflow:"auto"}}}));var xe=function e(t){var a=Fe(),i=Object(n.useState)(!0),l=Object(s.a)(i,2),o=l[0],m=l[1],d=Object(n.useState)(!1),f=Object(s.a)(d,2),p=f[0],b=f[1],w=Object(n.useState)("grid"),x=Object(s.a)(w,2),k=x[0],S=x[1],y=Object(n.useState)(-1),C=Object(s.a)(y,2),O=C[0],T=C[1],P=t.visible,N=t.id,M=t.editid,L=t.params,W=t.filterid;Object(n.useEffect)((function(){!function(){K.apply(this,arguments)}()}),[]);var B=function(){return null==M?tt.get(N).data:tt.get(N).data.ReferEdit.Editors[M].joinRow.FindConrol},Q=function(){return tt.get(N)};function K(){return(K=Object(u.a)(c.a.mark((function e(){var t,a,n,r,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==M){e.next=4;break}return B().curRow=0,m(!1),e.abrupt("return");case 4:return t=Ye+"React/FinderStart",(a=new FormData).append("id",L),n=Q(),null!=W&&null!=tt.get(W)&&(r=tt.get(W).data).ReferEdit.SaveFieldList.map((function(e){n.SQLParams["@"+e]=r.MainTab[0][e]})),n.SQLParams&&a.append("SQLParams",JSON.stringify(n.SQLParams)),n.TextParams&&a.append("TextParams",JSON.stringify(n.TextParams)),e.next=13,fetch(t,{method:"POST",mode:Xe?"no-cors":"cors",cache:"no-cache",credentials:Xe?"include":"omit",body:a});case 13:return i=e.sent,e.next=16,i.json();case 16:(l=e.sent).Error?$e.alert("\u041e\u0448\u0438\u0431\u043a\u0430",l.Error):(l.curRow=0,l.WorkRow={},l.ColumnTab.map((function(e){l.WorkRow[e]=""})),Q().data=l,m(!1));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return B().Descr?B().Descr:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}function G(){return z.apply(this,arguments)}function z(){return(z=Object(u.a)(c.a.mark((function e(){var t,a,n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ye+"React/FinderStart",a=new FormData,n=B(),a.append("id",L),a.append("mode","data"),a.append("page",n.page.toString()),a.append("Fc",JSON.stringify(n.Fcols)),n.SQLParams&&a.append("SQLParams",JSON.stringify(n.SQLParams)),n.TextParams&&a.append("TextParams",JSON.stringify(n.TextParams)),e.next=11,fetch(t,{method:"POST",mode:Xe?"no-cors":"cors",cache:"no-cache",credentials:Xe?"include":"omit",body:a});case 11:return r=e.sent,e.next=14,r.json();case 14:(i=e.sent).Error?$e.alert("\u041e\u0448\u0438\u0431\u043a\u0430",i.Error):(n.MainTab=i.MainTab,n.TotalTab=i.TotalTab,n.page=i.page),p&&b(!1),S("grid");case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U,I=function(){var e=B();if(null!=e.curRow){var t=e.MainTab[e.curRow][e.DispField];$e.confirm(J(),"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c '"+t+"'?",V)}},V=function(){var e=Object(u.a)(c.a.mark((function e(){var t,a,n,r,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=B(),(a={})[t.KeyF]=t.MainTab[t.curRow][t.KeyF],t.DelProc.toLowerCase().indexOf("_del_1")>-1&&(a.AUDTUSER=t.Account),n=Ye+"React/exec",(r=new FormData).append("EditProc",t.DelProc),r.append("SQLParams",JSON.stringify(a)),r.append("KeyF",t.KeyF),e.next=11,fetch(n,{method:"POST",mode:Xe?"no-cors":"cors",cache:"no-cache",credentials:Xe?"include":"omit",body:r});case 11:return i=e.sent,e.next=14,i.json();case 14:if("OK"==(l=e.sent).message){e.next=18;break}return $e.alert("\u041e\u0448\u0438\u0431\u043a\u0430",l.message),e.abrupt("return");case 18:t.MainTab.splice(t.curRow,1),T(O+1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(u.a)(c.a.mark((function e(){var t,a,n,r,i,l,o,u,s,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a in(t=B()).DefaultValues)t.WorkRow[a]=t.DefaultValues[a];for(n in t.TextParams)t.WorkRow[n]=t.TextParams[n];return r={},t.ReferEdit.SaveFieldList.map((function(e){r[e]=t.WorkRow[e]})),i=Ye+"React/exec",(l=new FormData).append("EditProc",t.EditProc),l.append("SQLParams",JSON.stringify(r)),l.append("KeyF",t.KeyF),e.next=12,fetch(i,{method:"POST",mode:Xe?"no-cors":"cors",cache:"no-cache",credentials:Xe?"include":"omit",body:l});case 12:return o=e.sent,e.next=15,o.json();case 15:if("OK"==(u=e.sent).message){e.next=21;break}return $e.alert("\u041e\u0448\u0438\u0431\u043a\u0430",u.message),e.abrupt("return");case 21:1==u.ColumnTab.length?t.WorkRow[t.KeyF]=u.MainTab[0][u.ColumnTab[0]]:u.ColumnTab.map((function(e){t.WorkRow[e]=u.MainTab[0][e]}));case 22:s={},"edit"==k&&(m=t.curRow,s=t.MainTab[m]),t.ColumnTab.map((function(e){s[e]=t.WorkRow[e]})),"add"==k&&t.MainTab.push(s),S("grid");case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=tt.get(W).data,t=e.MainTab[0];e.ColumnTab.map((function(a){t[a]=e.WorkRow[a]}));var a=B();e.ReferEdit.SaveFieldList.map((function(t){a.SQLParams["@"+t]=e.MainTab[0][t]})),G()},X=function(){S("grid")},Y=function(){var e=B();e.WorkRow={};var t=e.curRow,a=e.MainTab[t];e.ColumnTab.map((function(t){e.WorkRow[t]=null==a[t]?"":a[t]})),e.ReferEdit.Editors.map((function(t){""!=t.DisplayFormat&&(e.WorkRow[t.FieldName]=He(e.WorkRow[t.FieldName],t.DisplayFormat))})),S("edit")},Z=function(){var e=tt.get(W).data;e.WorkRow={};var t=e.MainTab[0];e.ColumnTab.map((function(a){e.WorkRow[a]=null==t[a]?"":t[a]})),S("setting")},ee=function(){var e=B();e.WorkRow={},e.ColumnTab.map((function(t){e.WorkRow[t]=""})),S("add")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{anchor:"top",open:p,onClose:(U=!1,function(e){b(U)})},r.a.createElement(ne,{id:N,onChangePage:function(e,t){B().page=t+1,G()},editid:M})),r.a.createElement("div",{hidden:!P,className:a.fixheight},r.a.createElement("div",{hidden:"grid"!=k,className:a.fixheight},r.a.createElement(E.a,{position:"fixed"},r.a.createElement(g.a,null,null==M?r.a.createElement(F.a,{title:"\u041c\u0435\u043d\u044e"},r.a.createElement(v.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu",onClick:function(){$e.showMenu()}},r.a.createElement(R.a,null))):"",r.a.createElement(h.a,{variant:"h6",className:a.title},J()),function(){if(null==M&&!o)return B().EditProc?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{className:a.menuButton,onClick:function(){ee()}},r.a.createElement(fe.a,null)),r.a.createElement(v.a,{className:a.menuButton,onClick:function(){Y()}},r.a.createElement(me.a,null)),r.a.createElement(v.a,{className:a.menuButton,onClick:function(){I()}},r.a.createElement(Ee.a,null))):void 0}(),o?r.a.createElement("span",null):r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{onClick:function(){S("filter")},className:a.menuButton},r.a.createElement(ie.a,null)),r.a.createElement(F.a,{title:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b"},r.a.createElement(v.a,{className:a.menuButton,onClick:function(){b(!0)}},r.a.createElement(oe.a,null)))),null!=M?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{onClick:function(){t.selectFinder(M)}},r.a.createElement(ue.a,null)),r.a.createElement(v.a,{onClick:function(){t.clearFinder()}},r.a.createElement(A.a,null))):o?void 0:r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{title:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 CSV"},r.a.createElement(v.a,{className:a.menuButton,onClick:function(){!function(){var e=Ye+"React/csv",t=new FormData,a=B();t.append("id",L),t.append("Fc",JSON.stringify(a.Fcols)),a.SQLParams&&t.append("SQLParams",JSON.stringify(a.SQLParams)),a.TextParams&&t.append("TextParams",JSON.stringify(a.TextParams)),fetch(e,{method:"POST",mode:Xe?"no-cors":"cors",cache:"no-cache",credentials:Xe?"include":"omit",body:t}).then((function(e){return e.blob()})).then((function(e){window.URL.createObjectURL(e);var t=document.createElement("a");t.href=URL.createObjectURL(e),t.setAttribute("download","data.csv"),t.click()}))}()}},r.a.createElement(he.a,null))),B().KeyValue?r.a.createElement(F.a,{title:"\u0414\u0435\u0442\u0430\u043b\u0438"},r.a.createElement(v.a,{className:a.menuButton,onClick:function(){!function(){var t=B();if(null!=t.curRow){var a=t.MainTab[t.curRow][t.KeyF],n={};n[t.KeyF]=a;var r={Control:e,Params:t.KeyValue,TextParams:n,data:{}},i=N+"_"+a;$e.addform(i,r)}}()}},r.a.createElement(ve.a,null))):"",null!=W?r.a.createElement(F.a,{title:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"},r.a.createElement(v.a,{className:a.menuButton,onClick:function(){Z()}},r.a.createElement(Re.a,null))):""),function(){if(t.addinit&&!o)return t.addinit()}())),r.a.createElement("div",{className:a.offset}),o?r.a.createElement("span",null):function(){if(P)return r.a.createElement(D,{columns:B().Fcols,rows:B().MainTab,id:N,editid:M})}()),r.a.createElement("div",{hidden:"filter"!=k,className:a.fixheight},r.a.createElement(E.a,{position:"fixed"},r.a.createElement(g.a,null,r.a.createElement(h.a,{variant:"h6",className:a.title},J()," (\u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u043a\u0430 \u0438 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430)"),r.a.createElement(v.a,{onClick:function(){G()}},r.a.createElement(ue.a,null)),r.a.createElement(v.a,{onClick:function(){S("grid")}},r.a.createElement(A.a,null)))),r.a.createElement("div",{className:a.offset}),o?r.a.createElement("span",null):function(){if(P)return r.a.createElement(_,{columns:B().Fcols})}()),function(){if(null==M&&!o){var e="\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c";if("edit"==k){var t=B(),n=t.curRow;e=t.MainTab[n][t.DispField].toString()+" (\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435)"}return B().EditProc?r.a.createElement("div",{hidden:!("edit"==k||"add"==k),className:a.fixheight},r.a.createElement(H,{descr:e,save:$,closeEditor:X,id:N,mode:k})):void 0}}(),function(){if(null!=W&&!o){var e=J()+" (\u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b)";return r.a.createElement("div",{hidden:!("setting"==k),className:a.fixheight},r.a.createElement(H,{descr:e,save:q,closeEditor:X,id:W,mode:k}))}}()))},ke=a(97),Se=a.n(ke),ye=a(98),Ce=a.n(ye),je=Object(p.a)((function(e){return{menuButton:{marginRight:e.spacing(2)}}}));var Oe=function(e){var t=je(),a=Object(n.useState)(-1),i=Object(s.a)(a,2),l=i[0],o=i[1],m=Object(n.useState)(!0),d=Object(s.a)(m,2),f=d[0],p=d[1];function E(e){o(l+1)}function g(){return(g=Object(u.a)(c.a.mark((function e(){var t,a,n,r,i,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={Control:null,Params:"1519",SQLParams:{},data:{}},tt.set("dog_filter",t),a=Ye+"React/FinderStart",(n=new FormData).append("id","1519"),e.next=7,fetch(a,{method:"POST",mode:Xe?"no-cors":"cors",cache:"no-cache",credentials:Xe?"include":"omit",body:n});case 7:return r=e.sent,e.next=10,r.json();case 10:(i=e.sent).Error?$e.alert("\u041e\u0448\u0438\u0431\u043a\u0430",i.Error):(i.curRow=0,l=i.MainTab[0],i.WorkRow={},i.ColumnTab.map((function(e){i.WorkRow[e]=null==l[e]?"":l[e]})),t.data=i,p(!1));case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[]),f?"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...":r.a.createElement(xe,{visible:e.visible,params:e.params,id:e.id,key:e.id,addinit:function(){tt.get(e.id).data.setCurrent=E;var a=null!=tt.get(e.id).data.curRow?tt.get(e.id).data.curRow:0;if(!(-1==a||a>tt.get(e.id).data.MainTab.length-1)){var n=tt.get(e.id).data.MainTab[a].agr_key.toString(),i=Ye+"Docfiles/dir?id="+n+"/",l=Ye+"Docfiles/comments?ag_id="+n+"&ag_type=agr";return r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{title:"\u0424\u0430\u0439\u043b\u044b"},r.a.createElement("a",{href:i,target:"_blanck",className:t.menuButton},r.a.createElement(Se.a,{style:{color:"white"}}))),r.a.createElement(F.a,{title:"\u0417\u0430\u043c\u0435\u0447\u0430\u043d\u0438\u044f"},r.a.createElement("a",{href:l,target:"_blanck",className:t.menuButton},r.a.createElement(Ce.a,{style:{color:"white"}}))))}},filterid:"dog_filter"})},Te=a(185),Pe=a(102),Ne=a(186),Me=a(187),Le=a(188),De=a(100),We=a.n(De),Be=a(101),_e=a.n(Be),Qe=a(99),Ke=a.n(Qe),Je=a(198),Ge=a(189),Ae=a(193),ze=a(191),Ue=a(192),Ie=a(190);function He(e,t){if(!e)return e;if(24!=e.length){new RegExp("0.(0?)");var a=t.match(/0\.(0+)/),n=0;return a&&a.length>1&&(n=a[1].length),n>0?Number(e.toString()).toFixed(n):e}return t=(t=(t=(t=(t=(t=t.replace("yyyy",e.substr(0,4))).replace("yy",e.substr(2,2))).replace("MM",e.substr(5,2))).replace("dd",e.substr(8,2))).replace("HH",e.substr(11,2))).replace("mm",e.substr(14,2))}var Ve=[],$e={},qe=Object(p.a)((function(e){return{root:{flexGrow:1,marginRight:20,marginLeft:5},drawerHeader:Object(m.a)(Object(m.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"})}})),Xe=!0,Ye=Xe?"":"http://127.0.0.1:5000/",Ze=new Map;function et(e){e.map((function(e){null==e.children?Ze.set(e.id,e.attributes):et(e.children)}))}var tt=new Map,at={Control:Oe,Params:"1445",SQLParams:{},data:{}};tt.set("839",at);var nt=[];nt.push("839");var rt=function(e){var t=qe(),a=Object(Te.a)("(prefers-color-scheme: dark)"),i=r.a.useMemo((function(){return Object(Pe.a)({palette:{type:a?"dark":"light"}})}),[a]),l=Object(n.useState)(!0),o=Object(s.a)(l,2),m=o[0],d=o[1],f=Object(n.useState)("839"),p=Object(s.a)(f,2),E=p[0],g=p[1],h=Object(n.useState)(!1),w=Object(s.a)(h,2),R=w[0],F=w[1],x=r.a.useState(!1),k=Object(s.a)(x,2),S=k[0],y=k[1];function O(e){if(null==tt.get(e)){var t=function(e){var t=Ze.get(e),a=t.params?xe:C,n=t.params,r=null;return"RegulationPrint.repSDM"==t.link1&&(r={"@DateStart":"2000-01-01","@DateFinish":"2099-01-01"}),"RegulationPrint.ServiceReport"==t.link1&&(r={"@DateStart":"2000-01-01","@DateFinish":"2099-01-01","@AL_UTG":"<\u0412\u0441\u0435>"}),{Conrol:a,Params:n,SQLParams:r}}(e),a={Control:t.Conrol,Params:t.Params,SQLParams:t.SQLParams,data:{}};tt.set(e,a),nt.push(e)}g(e)}function T(){return(T=Object(u.a)(c.a.mark((function e(){var t,a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ye+"ustore/gettree",e.next=3,fetch(t,{method:"POST",mode:Xe?"no-cors":"cors",cache:"no-cache",credentials:Xe?"include":"omit"});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,Ve=n,Ze.clear(),et(Ve),d(!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){T.apply(this,arguments)}()}),[]),$e.showMenu=function(){F(!0)},$e.addform=function(e,t){null==tt.get(e)&&(tt.set(e,t),nt.push(e)),g(e)},$e.alert=function(e,t){$e.alertConfirm=!1,$e.alertTitle=e,$e.alertText=t,y(!0)},$e.confirm=function(e,t,a){$e.alertConfirm=!0,$e.alertTitle=e,$e.alertText=t,$e.confirmAction=a,y(!0)},r.a.createElement(Ne.a,{theme:i},r.a.createElement(Me.a,null),r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{anchor:"left",open:R,variant:"persistent"},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement(v.a,{onClick:function(e){F(!1)}},r.a.createElement(Ke.a,null))),m?r.a.createElement("p",null,r.a.createElement("em",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...")):r.a.createElement(Le.a,{className:t.root,defaultCollapseIcon:r.a.createElement(We.a,null),defaultExpandIcon:r.a.createElement(_e.a,null),onNodeSelect:function(e,t){Ze.get(t)&&(F(!1),O(t))}},Ve.map((function(e){return function e(t){return r.a.createElement(Je.a,{key:t.id,nodeId:t.id,label:t.text},Array.isArray(t.children)?t.children.map((function(t){return e(t)})):null)}(e)})))),r.a.createElement(Ge.a,{open:S,keepMounted:!0,onClose:function(){y(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(Ie.a,{id:"alert-dialog-slide-title"},$e.alertTitle),r.a.createElement(ze.a,null,r.a.createElement(Ue.a,{id:"alert-dialog-slide-description"},$e.alertText)),r.a.createElement(Ae.a,null,r.a.createElement(b.a,{onClick:function(){y(!1),$e.alertConfirm&&$e.confirmAction()},color:"primary"},"\u041e\u041a"),$e.alertConfirm?r.a.createElement(b.a,{onClick:function(){y(!1)},color:"primary"},"\u041e\u0442\u043c\u0435\u043d\u0430"):"")),nt.map((function(e){return function(e){var t=tt.get(e),a=t.Control;return r.a.createElement(a,{visible:E==e,params:t.Params,id:e,key:e})}(e)}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(rt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[120,1,2]]]);
//# sourceMappingURL=main.684d5fa7.chunk.js.map