(this.webpackJsonph2=this.webpackJsonph2||[]).push([[0],{109:function(e,t,a){e.exports=a(122)},114:function(e,t,a){},116:function(e,t,a){},122:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),i=a.n(l),c=(a(114),a(29)),o=a.n(c),u=a(41),s=a(12),m=a(61),d=(a(116),a(77)),f=a(78),h=a(157),E=a(160),p=a(161),g=a(165),b=(a(166),a(164)),v=a(32),x=a.n(v),w=a(182),O=function(){function e(){Object(d.a)(this,e),this.items=[],this.text=""}return Object(f.a)(e,[{key:"updateTab",value:function(){this.items.push("oh")}}]),e}(),S=new O;S.items=["aa","bb","dd"],S.text="Hello";var y=new O;y.items=["uu","zz","xx"],y.text="\u043f\u0440\u0438\u0432\u0435\u0442";var j=Object(h.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},offset:e.mixins.toolbar,title:{flexGrow:1},fixheight:{height:"100vh",overflow:"auto"}}}));function N(e){var t=e.visible,a=j();return r.a.createElement("div",{hidden:!t},r.a.createElement("div",{className:a.root},r.a.createElement(E.a,{position:"fixed"},r.a.createElement(p.a,null,r.a.createElement(w.a,{title:"\u041c\u0435\u043d\u044e"},r.a.createElement(b.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu",onClick:function(){Be.showMenu()}},r.a.createElement(x.a,null))),r.a.createElement(g.a,{variant:"h6",className:a.title},"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0438 \u0440\u0435\u0439\u0441\u0430"))),r.a.createElement("div",{className:a.offset})))}var C=a(181),k=a(167),P=a(171),F=a(170),T=a(168),R=a(169);var M=Object(h.a)({root:{},container:{height:"100vh",overflow:"auto"}});function L(e){M();var t=null!=ze.get(e.id).data.curRow?ze.get(e.id).data.curRow:-1,a=Object(n.useState)(t),l=Object(s.a)(a,2),i=l[0],c=l[1];return r.a.createElement(k.a,{size:"small"},r.a.createElement(T.a,null,r.a.createElement(R.a,null,e.columns.map((function(e){return r.a.createElement(F.a,{key:e.FieldName,align:e.DisplayFormat.indexOf("#")>-1?"right":"left",style:{fontSize:14,maxWidth:300}},e.FieldCaption)})))),r.a.createElement(P.a,null,e.rows.map((function(t,a){return r.a.createElement(R.a,{hover:!0,selected:a==i,onClick:function(t){return function(t,a){ze.get(e.id).data.curRow=a,null!=ze.get(e.id).data.setCurrent&&ze.get(e.id).data.setCurrent(a),c(a)}(0,a)}},e.columns.map((function(e){var a=t[e.FieldName];return r.a.createElement(F.a,{key:e.FieldName,align:e.DisplayFormat.indexOf("#")>-1?"right":"left",style:{fontSize:14,maxWidth:300}},""==e.DisplayFormat?a:function(e,t){if(!e)return e;if(24!=e.length){new RegExp("0.(0?)");var a=t.match(/0\.(0+)/),n=0;return a&&a.length>1&&(n=a[1].length),n>0?Number(e.toString()).toFixed(n):e}return t=(t=(t=(t=(t=(t=t.replace("yyyy",e.substr(0,4))).replace("yy",e.substr(2,2))).replace("MM",e.substr(5,2))).replace("dd",e.substr(8,2))).replace("HH",e.substr(11,2))).replace("mm",e.substr(14,2))}(a,e.DisplayFormat))})))}))))}var B=a(179),D=a(178);function Q(e){var t=Object(n.useState)(0),a=Object(s.a)(t,2),l=a[0],i=a[1];return r.a.createElement(k.a,{size:"small"},r.a.createElement(P.a,null,e.columns.map((function(t,a){return r.a.createElement(R.a,{key:t.FieldName},r.a.createElement(F.a,null,r.a.createElement(B.a,{label:t.FieldCaption,style:{width:"50vw"},value:t.FindString,onChange:function(t){return function(t,a){e.columns[a].FindString=t.target.value,i(l+1)}(t,a)}})),r.a.createElement(F.a,{style:{widht:30}},t.SortOrder),r.a.createElement(F.a,null,r.a.createElement(D.a,{native:!0,style:{width:200},value:t.Sort,onChange:function(t){return function(t,a){var n=0;e.columns.map((function(e,t){t!=a&&e.SortOrder&&e.SortOrder>n&&(n=e.SortOrder)})),e.columns[a].SortOrder=n+1,e.columns[a].Sort=t.target.value,i(l+1)}(t,a)}},r.a.createElement("option",null,"\u041d\u0435\u0442"),r.a.createElement("option",null,"\u041f\u043e \u0432\u043e\u0437\u0440\u0430\u0441\u0442\u0430\u043d\u0438\u044e"),r.a.createElement("option",null,"\u041f\u043e \u0443\u0431\u044b\u0432\u0430\u043d\u0438\u044e"))))}))))}var G=a(81),J=a.n(G),z=a(57),H=a.n(z),I=Object(h.a)((function(e){return{root:{flexGrow:1,marginLeft:e.spacing(2.5)},menuButton:{marginRight:e.spacing(2)},offset:e.mixins.toolbar,title:{flexGrow:1},fixheight:{height:"100vh",overflow:"auto"}}}));var U=function(e){var t=I(),a=Object(n.useState)("edit"),l=Object(s.a)(a,2),i=l[0],c=(l[1],e.id);return r.a.createElement("div",{hidden:"edit"!=i,className:t.fixheight},r.a.createElement(E.a,{position:"fixed"},r.a.createElement(p.a,null,r.a.createElement(w.a,{title:"\u041c\u0435\u043d\u044e"},r.a.createElement(b.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu",onClick:function(){Be.showMenu()}},r.a.createElement(x.a,null))),r.a.createElement(g.a,{variant:"h6",className:t.title},e.descr),r.a.createElement(b.a,{onClick:function(){e.save()}},r.a.createElement(J.a,null)),r.a.createElement(b.a,{onClick:function(){e.closeEditor()}},r.a.createElement(H.a,null)))),r.a.createElement("div",{className:t.offset}),r.a.createElement(k.a,{size:"small"},r.a.createElement(P.a,null,ze.get(c).data.ReferEdit.Editors.map((function(e,t){return r.a.createElement(R.a,{key:e.FieldName},r.a.createElement(F.a,null,r.a.createElement(B.a,{label:e.FieldCaption,style:{width:"80vw"}})))})))))},_=a(82),A=a.n(_),K=a(83),W=a.n(K),V=a(84),$=a.n(V),q=a(85),X=a.n(q),Y=Object(h.a)((function(e){return{root:{flexGrow:1,marginLeft:e.spacing(2.5)},menuButton:{marginRight:e.spacing(2)},offset:e.mixins.toolbar,title:{flexGrow:1},fixheight:{height:"100vh",overflow:"auto"}}}));var Z=function(e){var t=Y(),a=e.id;function n(){return ze.get(a).data.TotalTab?ze.get(a).data.TotalTab[0].n_total:0}function l(){return ze.get(a).data.page?ze.get(a).data.page-1:0}return r.a.createElement(p.a,null,r.a.createElement(g.a,{className:t.title},30*l()+1," - ",Math.min(30*(l()+1),n())," \u0438\u0437 ",n()),r.a.createElement(b.a,{onClick:function(t){e.onChangePage(t,0)},disabled:0===l(),"aria-label":"first page"},r.a.createElement(A.a,null)),r.a.createElement(b.a,{onClick:function(t){e.onChangePage(t,l()-1)},disabled:0===l,"aria-label":"previous page"},r.a.createElement(W.a,null)),l()+1," \u0438\u0437 ",Math.max(0,Math.ceil(n()/30)-1)+1,r.a.createElement(b.a,{onClick:function(t){e.onChangePage(t,l()+1)},disabled:l()>=Math.ceil(n()/30)-1,"aria-label":"next page"},r.a.createElement($.a,null)),r.a.createElement(b.a,{onClick:function(t){e.onChangePage(t,Math.max(0,Math.ceil(n()/30)-1))},disabled:l()>=Math.ceil(n()/30)-1,"aria-label":"last page"},r.a.createElement(X.a,null)))},ee=a(91),te=a.n(ee),ae=a(92),ne=a.n(ae),re=a(93),le=a.n(re),ie=a(89),ce=a.n(ie),oe=a(88),ue=a.n(oe),se=a(90),me=a.n(se),de=a(86),fe=a.n(de),he=a(87),Ee=a.n(he),pe=Object(h.a)((function(e){return{root:{flexGrow:1,marginLeft:e.spacing(2.5)},menuButton:{marginRight:e.spacing(2)},offset:e.mixins.toolbar,title:{flexGrow:1},fixheight:{height:"100vh",overflow:"auto"}}}));var ge=function e(t){var a=pe(),l=Object(n.useState)(!0),i=Object(s.a)(l,2),c=i[0],m=i[1],d=Object(n.useState)(!1),f=Object(s.a)(d,2),h=f[0],v=f[1],O=Object(n.useState)("grid"),S=Object(s.a)(O,2),y=S[0],j=S[1],N=Object(n.useState)(-1),k=Object(s.a)(N,2),P=k[0],F=k[1],T=t.visible,R=t.id,M=t.params;Object(n.useEffect)((function(){!function(){G.apply(this,arguments)}()}),[]);var B=function(){return ze.get(R).data},D=function(){return ze.get(R)};function G(){return(G=Object(u.a)(o.a.mark((function e(){var t,a,n,r,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Qe+"React/FinderStart",(a=new FormData).append("id",M),(n=D()).SQLParams&&a.append("SQLParams",JSON.stringify(n.SQLParams)),n.TextParams&&a.append("TextParams",JSON.stringify(n.TextParams)),e.next=8,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",body:a});case 8:return r=e.sent,e.next=11,r.json();case 11:(l=e.sent).Error?(F(P+1),alert(l.Error)):(D().data=l,m(!1));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(){return B().Descr?B().Descr:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}function z(){return I.apply(this,arguments)}function I(){return(I=Object(u.a)(o.a.mark((function e(){var t,a,n,r,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Qe+"React/FinderStart",a=new FormData,n=B(),a.append("id",M),a.append("mode","data"),a.append("page",n.page.toString()),a.append("Fc",JSON.stringify(n.Fcols)),n.SQLParams&&a.append("SQLParams",JSON.stringify(n.SQLParams)),n.TextParams&&a.append("TextParams",JSON.stringify(n.TextParams)),e.next=11,fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",body:a});case 11:return r=e.sent,e.next=14,r.json();case 14:(l=e.sent).Error?alert(l.Error):(n.MainTab=l.MainTab,n.TotalTab=l.TotalTab,n.page=l.page),h&&v(!1),j("grid");case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _,A=function(){alert("save"),j("grid")},K=function(){j("grid")},W=function(){j("edit")},V=function(){j("add")};return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{anchor:"top",open:h,onClose:(_=!1,function(e){v(_)})},r.a.createElement(Z,{id:R,onChangePage:function(e,t){B().page=t+1,z()}})),r.a.createElement("div",{hidden:!T,className:a.fixheight},r.a.createElement("div",{hidden:"grid"!=y,className:a.fixheight},r.a.createElement(E.a,{position:"fixed"},r.a.createElement(p.a,null,r.a.createElement(w.a,{title:"\u041c\u0435\u043d\u044e"},r.a.createElement(b.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu",onClick:function(){Be.showMenu()}},r.a.createElement(x.a,null))),r.a.createElement(g.a,{variant:"h6",className:a.title},J()),function(){if(!c)return B().EditProc?r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:a.menuButton,onClick:function(){V()}},r.a.createElement(ue.a,null)),r.a.createElement(b.a,{className:a.menuButton,onClick:function(){W()}},r.a.createElement(ce.a,null)),r.a.createElement(b.a,{className:a.menuButton},r.a.createElement(me.a,null))):void 0}(),c?r.a.createElement("span",null):r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{onClick:function(){j("filter")},className:a.menuButton},r.a.createElement(te.a,null)),r.a.createElement(w.a,{title:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u044b"},r.a.createElement(b.a,{className:a.menuButton,onClick:function(){v(!0)}},r.a.createElement(ne.a,null)))),function(){if(!c)return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{title:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 CSV"},r.a.createElement(b.a,{className:a.menuButton,onClick:function(){!function(){var e=Qe+"React/csv",t=new FormData,a=B();t.append("id",M),t.append("Fc",JSON.stringify(a.Fcols)),a.SQLParams&&t.append("SQLParams",JSON.stringify(a.SQLParams)),a.TextParams&&t.append("TextParams",JSON.stringify(a.TextParams)),fetch(e,{method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",body:t}).then((function(e){return e.blob()})).then((function(e){window.URL.createObjectURL(e);var t=document.createElement("a");t.href=URL.createObjectURL(e),t.setAttribute("download","data.csv"),t.click()}))}()}},r.a.createElement(fe.a,null))),B().KeyValue?r.a.createElement(w.a,{title:"\u0414\u0435\u0442\u0430\u043b\u0438"},r.a.createElement(b.a,{className:a.menuButton,onClick:function(){!function(){var t=B();if(null!=t.curRow){var a=t.MainTab[t.curRow][t.KeyF],n='{"'+t.KeyF+'":"'+a+'"}',r={Control:e,Params:t.KeyValue,TextParams:JSON.parse(n),data:{}},l=R+"_"+a;Be.addform(l,r)}}()}},r.a.createElement(Ee.a,null))):"")}(),function(){if(t.addinit&&!c)return t.addinit()}())),r.a.createElement("div",{className:a.offset}),c?r.a.createElement("span",null):function(){if(T)return r.a.createElement(L,{columns:B().Fcols,rows:B().MainTab,id:R})}()),r.a.createElement("div",{hidden:"filter"!=y,className:a.fixheight},r.a.createElement(E.a,{position:"fixed"},r.a.createElement(p.a,null,r.a.createElement(g.a,{variant:"h6",className:a.title},J()," (\u0444\u0438\u043b\u044c\u0442\u0440\u043e\u0432\u043a\u0430 \u0438 \u0441\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430)"),r.a.createElement(b.a,{onClick:function(){z()}},r.a.createElement(le.a,null)),r.a.createElement(b.a,{onClick:function(){j("grid")}},r.a.createElement(H.a,null)))),r.a.createElement("div",{className:a.offset}),c?r.a.createElement("span",null):function(){if(T)return r.a.createElement(Q,{columns:B().Fcols})}()),function(){if(!c)return B().EditProc?r.a.createElement("div",{hidden:!("edit"==y||"add"==y),className:a.fixheight},r.a.createElement(U,{descr:"\u041d\u043e\u0432\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u044c",save:A,closeEditor:K,id:R})):void 0}()))},be=a(94),ve=a.n(be),xe=Object(h.a)((function(e){return{menuButton:{marginRight:e.spacing(2)}}}));var we=function(e){var t=xe(),a=Object(n.useState)(-1),l=Object(s.a)(a,2),i=(l[0],l[1]);return ze.get(e.id).data.setCurrent=function(e){i(e)},r.a.createElement(ge,{visible:e.visible,params:e.params,id:e.id,key:e.id,addinit:function(){var a=ze.get(e.id).data.curRow?ze.get(e.id).data.curRow:0;if(!(-1==a||a>ze.get(e.id).data.MainTab.length-1)){var n=ze.get(e.id).data.MainTab[a].agr_key.toString(),l=Qe+"Docfiles/dir?id="+n+"/";return r.a.createElement(w.a,{title:"\u0424\u0430\u0439\u043b\u044b"},r.a.createElement("a",{href:l,target:"_blanck",className:t.menuButton},r.a.createElement(ve.a,{style:{color:"white"}})))}}})},Oe=a(174),Se=a(98),ye=a(175),je=a(176),Ne=a(177),Ce=a(96),ke=a.n(Ce),Pe=a(97),Fe=a.n(Pe),Te=a(95),Re=a.n(Te),Me=a(183),Le=[],Be={},De=Object(h.a)((function(e){return{root:{flexGrow:1,marginRight:20,marginLeft:5},drawerHeader:Object(m.a)(Object(m.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"})}})),Qe="",Ge=new Map;function Je(e){e.map((function(e){null==e.children?Ge.set(e.id,e.attributes):Je(e.children)}))}var ze=new Map,He={Control:we,Params:"1445",data:{}};ze.set("839",He);var Ie=[];Ie.push("839");var Ue=function(e){var t=De(),a=Object(Oe.a)("(prefers-color-scheme: dark)"),l=r.a.useMemo((function(){return Object(Se.a)({palette:{type:a?"dark":"light"}})}),[a]),i=Object(n.useState)(!0),c=Object(s.a)(i,2),m=c[0],d=c[1],f=Object(n.useState)("839"),h=Object(s.a)(f,2),E=h[0],p=h[1],g=Object(n.useState)(!1),v=Object(s.a)(g,2),x=v[0],w=v[1];function O(e){if(null==ze.get(e)){var t=function(e){var t=Ge.get(e),a=t.params?ge:N,n=t.params,r=null;return"RegulationPrint.repSDM"==t.link1&&(r={"@DateStart":"2000-01-01","@DateFinish":"2099-01-01"}),"RegulationPrint.ServiceReport"==t.link1&&(r={"@DateStart":"2000-01-01","@DateFinish":"2099-01-01","@AL_UTG":"<\u0412\u0441\u0435>"}),{Conrol:a,Params:n,SQLParams:r}}(e),a={Control:t.Conrol,Params:t.Params,SQLParams:t.SQLParams,data:{}};ze.set(e,a),Ie.push(e)}p(e)}function S(){return(S=Object(u.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Qe+"ustore/gettree",e.next=3,fetch(t,{method:"GET",mode:"cors",cache:"no-cache",credentials:"omit"});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,Le=n,Ge.clear(),Je(Le),d(!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){S.apply(this,arguments)}()}),[]),Be.showMenu=function(){w(!0)},Be.addform=function(e,t){null==ze.get(e)&&(ze.set(e,t),Ie.push(e)),p(e)},r.a.createElement(ye.a,{theme:l},r.a.createElement(je.a,null),r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{anchor:"left",open:x,variant:"persistent"},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement(b.a,{onClick:function(e){w(!1)}},r.a.createElement(Re.a,null))),m?r.a.createElement("p",null,r.a.createElement("em",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...")):r.a.createElement(Ne.a,{className:t.root,defaultCollapseIcon:r.a.createElement(ke.a,null),defaultExpandIcon:r.a.createElement(Fe.a,null),onNodeSelect:function(e,t){Ge.get(t)&&(w(!1),O(t))}},Le.map((function(e){return function e(t){return r.a.createElement(Me.a,{key:t.id,nodeId:t.id,label:t.text},Array.isArray(t.children)?t.children.map((function(t){return e(t)})):null)}(e)})))),Ie.map((function(e){return function(e){var t=ze.get(e),a=t.Control;return r.a.createElement(a,{visible:E==e,params:t.Params,id:e,key:e})}(e)}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[109,1,2]]]);
//# sourceMappingURL=main.d4c20dc6.chunk.js.map